
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>Mopet - Mopet</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../css/pandas-dataframe.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mopet" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Mopet" class="md-header-nav__button md-logo" aria-label="Mopet">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Mopet
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Mopet
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/caglorithm/mopet/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    caglorithm/mopet
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Mopet" class="md-nav__button md-logo" aria-label="Mopet">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Mopet
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/caglorithm/mopet/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    caglorithm/mopet
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Mopet
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Mopet
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mopet.mopet" class="md-nav__link">
    mopet.mopet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration" class="md-nav__link">
    Exploration
  </a>
  
    <nav class="md-nav" aria-label="Exploration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.df" class="md-nav__link">
    df
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.close_hdf" class="md-nav__link">
    close_hdf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.load_results" class="md-nav__link">
    load_results()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        Examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/minimal_example/" class="md-nav__link">
        Minimal example
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/neurolib_brain_network/" class="md-nav__link">
        Neurolib brain network
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/neurolib_example/" class="md-nav__link">
        Neurolib example
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mopet.mopet" class="md-nav__link">
    mopet.mopet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration" class="md-nav__link">
    Exploration
  </a>
  
    <nav class="md-nav" aria-label="Exploration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.df" class="md-nav__link">
    df
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.close_hdf" class="md-nav__link">
    close_hdf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.load_results" class="md-nav__link">
    load_results()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mopet.mopet.Exploration.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/caglorithm/mopet/edit/master/docs/mopet.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="mopet">Mopet</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" id="mopet.mopet" style="visibility: hidden; position: absolute;">
        </h2>
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="mopet.mopet.Exploration">

        <code>Exploration</code>



      </h2>
<div class="doc doc-contents ">
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="mopet.mopet.Exploration.df">

<code class="highlight language-python"><span class="n">df</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

      </h3>
<div class="doc doc-contents ">
<p>Returns a dataframe with exploration results. Creates it from new if it doesn't exist yet.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pandas.DataFrame</code></td>
<td>
<p>Dataframe with exploration results</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mopet.mopet.Exploration.__init__">

<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">explore_params</span><span class="p">,</span> <span class="n">default_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exploration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hdf_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_cpus</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_gpus</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

      </h3>
<div class="doc doc-contents ">
<p>Defines a parameter exploration of a given <code>function</code>.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>function</code></td>
<td><code>function</code></td>
<td>
<p>Function to evaluate at each run</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>explore_params</code></td>
<td><code>dict</code></td>
<td>
<p>Exploration parameters (individual) for each run</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>default_params</code></td>
<td><code>dict</code></td>
<td>
<p>Default (shared) parameters to load for each run, optional, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>exploration_name</code></td>
<td><code>str, optional</code></td>
<td>
<p>Name of the run, will create a name if left empty, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>hdf_filename</code></td>
<td><code>str, optional</code></td>
<td>
<p>Filename of the hdf storage file, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>num_cpus</code></td>
<td><code>int</code></td>
<td>
<p>Number of desired CPU cores passed to ray, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>num_gpus</code></td>
<td><code>int</code></td>
<td>
<p>Number of desired GPUs passed to ray, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code></code></td>
<td>
<p>Exploration instance</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>mopet/mopet.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">function</span><span class="p">,</span>
    <span class="n">explore_params</span><span class="p">,</span>
    <span class="n">default_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">exploration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">hdf_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">num_cpus</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">num_gpus</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""Defines a parameter exploration of a given `function`.</span>

<span class="sd">    :param function: Function to evaluate at each run</span>
<span class="sd">    :type function: function</span>
<span class="sd">    :param explore_params: Exploration parameters (individual) for each run</span>
<span class="sd">    :type explore_params: dict</span>
<span class="sd">    :param default_params: Default (shared) parameters to load for each run, optional, defaults to None</span>
<span class="sd">    :type default_params: dict</span>
<span class="sd">    :param exploration_name: Name of the run, will create a name if left empty, defaults to None</span>
<span class="sd">    :type exploration_name: str, optional</span>
<span class="sd">    :param hdf_filename: Filename of the hdf storage file, defaults to None</span>
<span class="sd">    :type hdf_filename: str, optional</span>
<span class="sd">    :param num_cpus: Number of desired CPU cores passed to ray, defaults to None</span>
<span class="sd">    :type num_cpus: int, optional</span>
<span class="sd">    :param num_gpus: Number of desired GPUs passed to ray, defaults to None</span>
<span class="sd">    :type num_gpus: int, optional</span>
<span class="sd">    :return: Exploration instance</span>
<span class="sd">    """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results_params</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">default_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_params</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">default_params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">full_params</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_params</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">full_params</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">explore_params</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">explore_params</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exploration_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">exploration_name</span> <span class="o">=</span> <span class="s2">"exploration"</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"_%Y_%m_</span><span class="si">%d</span><span class="s2">_%HH_%MM_%SS"</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">exploration_name</span> <span class="o">=</span> <span class="n">exploration_name</span>

    <span class="k">if</span> <span class="n">hdf_filename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">hdf_filename</span> <span class="o">=</span> <span class="s2">"exploration.h5"</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hdf_filename</span> <span class="o">=</span> <span class="n">hdf_filename</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dfResults</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># status</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hdf_open_for_reading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># List of all parameter combinations generated when exploration starts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">explore_params_list</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Dict with runId as keys and explored parameter dict as value.</span>
    <span class="c1"># Will be filled when exploration starts.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_params_dict</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Dict with runId as keys and explored parameter dict as value.</span>
    <span class="c1"># Will be filled when calling `load_results`.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Ray configuration</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_gpus</span> <span class="o">=</span> <span class="n">num_gpus</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">num_cpus</span> <span class="o">=</span> <span class="n">num_cpus</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mopet.mopet.Exploration.close_hdf">

<code class="highlight language-python"><span class="n">close_hdf</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


      </h3>
<div class="doc doc-contents ">
<p>Close a previously opened HDF file.</p>
<details class="quote">
          <summary>Source code in <code>mopet/mopet.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">close_hdf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Close a previously opened HDF file."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">h5file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hdf_open_for_reading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">hdf_filename</span><span class="si">}</span><span class="s2"> closed."</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mopet.mopet.Exploration.get_run">

<code class="highlight language-python"><span class="n">get_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exploration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


      </h3>
<div class="doc doc-contents ">
<p>Get a single result from a previous exploration. This function
will load a single result from the HDF file. Use this function
if you want to avoid loading all results to memory, which you can
do using <code>.load_results(arrays=True)</code>.</p>
<p>Note: This function will open the HDF for reading but will not close
it afterwards! This is to speed up many sequential loads but it also
means that you have to close the HDF file yourself. You can do this
by using <code>.close_hdf()</code>.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>run_id</code></td>
<td><code>int, optional</code></td>
<td>
<p>Unique id of the run. Has to be given if run_name is not given, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>run_name</code></td>
<td><code>str, optional</code></td>
<td>
<p>The name of the run. Has to be given if run_id is not given, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>filename</code></td>
<td><code>str, optional</code></td>
<td>
<p>Filename of the HDF with previous exploration results. Previously used filename will be used if not given, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>exploration_name</code></td>
<td><code>str, optional</code></td>
<td>
<p>Name of the exploration to load data from. Previously used exploration_name will be used if not given, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dict</code></td>
<td>
<p>Results of the run</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>mopet/mopet.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exploration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""Get a single result from a previous exploration. This function</span>
<span class="sd">    will load a single result from the HDF file. Use this function</span>
<span class="sd">    if you want to avoid loading all results to memory, which you can</span>
<span class="sd">    do using `.load_results(arrays=True)`.</span>

<span class="sd">    Note: This function will open the HDF for reading but will not close</span>
<span class="sd">    it afterwards! This is to speed up many sequential loads but it also</span>
<span class="sd">    means that you have to close the HDF file yourself. You can do this</span>
<span class="sd">    by using `.close_hdf()`.</span>

<span class="sd">    :param run_id: Unique id of the run. Has to be given if run_name is not given, defaults to None</span>
<span class="sd">    :type run_id: int, optional</span>
<span class="sd">    :param run_name: The name of the run. Has to be given if run_id is not given, defaults to None</span>
<span class="sd">    :type run_name: str, optional</span>
<span class="sd">    :param filename: Filename of the HDF with previous exploration results. Previously used filename will be used if not given, defaults to None</span>
<span class="sd">    :type filename: str, optional</span>
<span class="sd">    :param exploration_name: Name of the exploration to load data from. Previously used exploration_name will be used if not given, defaults to None</span>
<span class="sd">    :type exploration_name: str, optional</span>

<span class="sd">    :return: Results of the run</span>
<span class="sd">    :rtype: dict</span>
<span class="sd">    :raises: NoSuchExplorationError if hdf5 file does not contain `exploration_name` group.</span>
<span class="sd">    """</span>
    <span class="c1"># get result by id or if not then by run_name (hdf_run)</span>
    <span class="k">assert</span> <span class="n">run_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">run_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">"Either use `run_id` or `run_name`."</span>

    <span class="k">if</span> <span class="n">exploration_name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exploration_name</span> <span class="o">=</span> <span class="n">exploration_name</span>

    <span class="k">if</span> <span class="n">run_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">RUN_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hdf_open_for_reading</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_open_hdf</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">run_results_group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h5file</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="s2">"/"</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">exploration_name</span><span class="p">,</span> <span class="s2">"runs"</span><span class="p">)[</span><span class="n">run_name</span><span class="p">]</span>
    <span class="k">except</span> <span class="n">NoSuchNodeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ExplorationNotFoundError</span><span class="p">(</span>
            <span class="s2">"Exploration </span><span class="si">%s</span><span class="s2"> could not be found in HDF file </span><span class="si">%s</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exploration_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hdf_filename</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_group_as_dict</span><span class="p">(</span><span class="n">run_results_group</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mopet.mopet.Exploration.load_results">

<code class="highlight language-python"><span class="n">load_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exploration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arrays</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


      </h3>
<div class="doc doc-contents ">
<p>Load results from previous explorations. This function
will open an HDF file and look for an exploration. It will
create a Pandas <code>Dataframe</code> object (accessible through the
attribute <code>.df</code>) with a list of all runs and their parameters.</p>
<p>You can load the exploration results using following parameters:</p>
<ul>
<li>If <code>arrays==False</code>, all scalar results from the exploration
will be added to the Dataframe (default).</li>
<li>If <code>arrays==True</code>, then all results, including (larger) numpy arrays
will be loaded. This can take
up a lot of RAM since all results will be available. Only
use this option if you know that you have enough memory. Otherwise,
you might want to skip this and load results separately using the
method <code>.get_run()</code>.</li>
<li>If <code>as_dict==True</code>, all results will be loaded and saved to the attribute
<code>.results</code> regardless of their type. Will use even more memory.</li>
</ul>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filename</code></td>
<td><code>str, optional</code></td>
<td>
<p>Filename of HDF file, uses default filename or previously used filename if not given, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>exploration_name</code></td>
<td><code>str, optional</code></td>
<td>
<p>Name of the exploration, same as the group names of the explorations in the HDF file, defaults to None</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>arrays</code></td>
<td><code>bool, optional</code></td>
<td>
<p>Aggregate all results, including arrays into the results Dataframe, defaults to False</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>as_dict</code></td>
<td><code>bool, optional</code></td>
<td>
<p>Load all results into a dictionary available as the attribute <code>.results</code>. Can use a lot of RAM, defaults to False</p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Hdf5FileNotExistsError</code></td>
<td>
<p>if file with <code>filename</code> does not exist.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>mopet/mopet.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">load_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exploration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arrays</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">"""Load results from previous explorations. This function</span>
<span class="sd">    will open an HDF file and look for an exploration. It will</span>
<span class="sd">    create a Pandas `Dataframe` object (accessible through the</span>
<span class="sd">    attribute `.df`) with a list of all runs and their parameters.</span>

<span class="sd">    You can load the exploration results using following parameters:</span>

<span class="sd">    - If `arrays==False`, all scalar results from the exploration</span>
<span class="sd">    will be added to the Dataframe (default).</span>
<span class="sd">    - If `arrays==True`, then all results, including (larger) numpy arrays</span>
<span class="sd">    will be loaded. This can take</span>
<span class="sd">    up a lot of RAM since all results will be available. Only</span>
<span class="sd">    use this option if you know that you have enough memory. Otherwise,</span>
<span class="sd">    you might want to skip this and load results separately using the</span>
<span class="sd">    method `.get_run()`.</span>
<span class="sd">    - If `as_dict==True`, all results will be loaded and saved to the attribute</span>
<span class="sd">    `.results` regardless of their type. Will use even more memory.</span>

<span class="sd">    :param filename: Filename of HDF file, uses default filename or previously used filename if not given, defaults to None</span>
<span class="sd">    :type filename: str, optional</span>
<span class="sd">    :param exploration_name: Name of the exploration, same as the group names of the explorations in the HDF file, defaults to None</span>
<span class="sd">    :type exploration_name: str, optional</span>
<span class="sd">    :param arrays: Aggregate all results, including arrays into the results Dataframe, defaults to False</span>
<span class="sd">    :type arrays: bool, optional</span>
<span class="sd">    :param as_dict: Load all results into a dictionary available as the attribute `.results`. Can use a lot of RAM, defaults to False</span>
<span class="sd">    :type as_dict: bool, optional</span>
<span class="sd">    :raises Hdf5FileNotExistsError: if file with `filename` does not exist.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">exploration_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">exploration_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exploration_name</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exploration_name</span> <span class="o">=</span> <span class="n">exploration_name</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_open_hdf</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_load_all_results</span><span class="p">(</span><span class="n">exploration_name</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="n">as_dict</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_create_df</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_aggregate_results</span><span class="p">(</span><span class="n">exploration_name</span><span class="p">,</span> <span class="n">arrays</span><span class="o">=</span><span class="n">arrays</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">close_hdf</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mopet.mopet.Exploration.run">

<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


      </h3>
<div class="doc doc-contents ">
<p>Start parameter exploration.</p>
<p>TODO: Pass kwargs in run() to the exploration function</p>
<p><strong>Exceptions:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ExplorationExistsError</code></td>
<td>
<p>if exploration with same name already exists in HDF5 file.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>mopet/mopet.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Start parameter exploration.</span>

<span class="sd">    TODO: Pass kwargs in run() to the exploration function</span>

<span class="sd">    :raises ExplorationExistsError: if exploration with same name already exists in HDF5 file.</span>
<span class="sd">    """</span>
    <span class="c1"># Initialize ray</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init_ray</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_cpus</span><span class="p">,</span> <span class="n">num_gpus</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_gpus</span><span class="p">)</span>

    <span class="c1"># Create a list of all combinations of parameters from explore_params</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">explore_params_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cartesian_product_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">explore_params</span><span class="p">)</span>

    <span class="c1"># Initialize hdf storage</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pre_storage_routine</span><span class="p">()</span>

    <span class="c1"># -----------------------------</span>
    <span class="c1"># Set up all simulations</span>
    <span class="c1"># -----------------------------</span>

    <span class="c1"># remember the time</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="c1"># a unique id for each run</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># contains ray objects of each run</span>
    <span class="n">ray_returns</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># contains all exploration parameters of each run</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_params_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Starting </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">explore_params_list</span><span class="p">)</span><span class="si">}</span><span class="s2"> jobs."</span><span class="p">)</span>
    <span class="c1"># cycle through all parameter combinations</span>
    <span class="k">for</span> <span class="n">update_params</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">explore_params_list</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_params</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># load the default parameters</span>
            <span class="n">run_params</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_params</span><span class="p">)</span>
            <span class="c1"># and update them with the explored parameters</span>
            <span class="n">run_params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update_params</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">run_params</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">update_params</span><span class="p">)</span>

        <span class="c1"># start all ray jobs and remember the ray object</span>
        <span class="c1"># pylint: disable=no-member</span>
        <span class="n">ray_returns</span><span class="p">[</span><span class="n">run_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">_ray_remote</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">run_params</span><span class="p">)</span>

        <span class="c1"># store this runs explore parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_params_dict</span><span class="p">[</span><span class="n">run_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">update_params</span><span class="p">)</span>

        <span class="c1"># increment the run id</span>
        <span class="n">run_id</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># stop measuring time</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Runs took </span><span class="si">{</span><span class="n">end_time</span><span class="si">}</span><span class="s2"> s to submit."</span><span class="p">)</span>

    <span class="c1"># -----------------------------</span>
    <span class="c1"># Reduce and store all results</span>
    <span class="c1"># -----------------------------</span>

    <span class="c1"># remember the time</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="c1"># cycle through all returned ray objects</span>
    <span class="k">for</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">ray_return</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">ray_returns</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="c1"># get the appropriate parameters for this run</span>
        <span class="n">run_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_params_dict</span><span class="p">[</span><span class="n">run_id</span><span class="p">]</span>
        <span class="c1"># queue object for storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_store_result</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">ray_return</span><span class="p">,</span> <span class="n">run_param</span><span class="p">)</span>
        <span class="c1"># remove LOCAL_REFERENCE in form of ObjectId from ray's object store.</span>
        <span class="n">ray_returns</span><span class="p">[</span><span class="n">run_id</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># stop measuring time</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Runs and storage took </span><span class="si">{</span><span class="n">end_time</span><span class="si">}</span><span class="s2"> s to complete."</span><span class="p">)</span>

    <span class="c1"># tear down hdf storage</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_post_storage_routine</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_shutdown_ray</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </div>
            </div>
          </a>
        
        
          <a href="../examples/minimal_example/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Minimal example
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://twitter.com/caglorithm" target="_blank" rel="noopener" title="caglrotihm on Twitter" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../js/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>